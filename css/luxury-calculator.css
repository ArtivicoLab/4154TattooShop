/*
 * Ink 102 Tattoos and Piercings - Luxury Calculator Styles
 * Styles for the tattoo price calculator
 */

/* Global Box Sizing for all elements - CRUCIAL FOR RESPONSIVENESS */
/* This ensures padding and border are included IN the element's defined width/height */
* {
    box-sizing: border-box;
}

/* Calculator Section */
.calculator {
    position: relative;
    padding: var(--space-xxl) var(--space-md); /* Ensures horizontal padding on all screens by default */
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    overflow: hidden; /* Important to contain any potential overflow from children */
}

.calculator::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
    z-index: 0;
}

.calculator-container {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 1fr; /* Default to single column for small screens */
    gap: var(--space-lg);
    background: white;
    border-radius: var(--border-radius-lg);
    padding: var(--space-lg); /* Base padding for the calculator container */
    box-shadow: var(--shadow-md);
    overflow: hidden; /* Ensures inner content doesn't break container */
    max-width: 900px;
    margin: 0 auto;
    border: 1px solid rgba(0, 0, 0, 0.05);
    /* box-sizing is handled by the global * selector */
}

/* Ensure form takes 100% of its grid column and can shrink */
.calculator-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    width: 100%; /* Explicitly set width to 100% of its grid area */
    min-width: 0; /* Allows this flex/grid item to shrink below its content if needed */
}

.calc-group {
    margin-bottom: var(--space-md);
    width: 100%; /* Ensure calc-group takes full width of its parent */
}

.calc-group label {
    display: block;
    margin-bottom: var(--space-xs);
    font-weight: 600;
    color: var(--grey-900);
}

.size-input-container {
    display: flex;
    flex-direction: column; /* Default to column for small screens */
    align-items: flex-start;
    gap: var(--space-sm);
    width: 100%; /* Ensure container takes full width */
    min-width: 0; /* Allows it to shrink */
}

.size-input-container input[type="number"] {
    width: 100%; /* Make it fluid within its container */
    max-width: 80px; /* Limit max-width for aesthetic on larger screens */
    padding: var(--space-sm);
    border: 1px solid var(--grey-300);
    border-radius: var(--border-radius-sm);
    font-size: 1rem;
    text-align: center;
    /* box-sizing is handled by the global * selector */
}

.slider-container {
    flex: 1 1 0%; /* flex-grow, flex-shrink, flex-basis: Allows shrinking to 0, then growing */
    display: flex;
    flex-direction: column;
    width: 100%; /* Ensure slider container takes full width */
    min-width: 0; /* Allows it to shrink */
}

.slider-container input[type="range"] {
    width: 100%; /* Slider itself takes full width of its container */
    margin-bottom: var(--space-xs);
    -webkit-appearance: none;
    appearance: none;
    height: 8px;
    background: linear-gradient(to right, var(--grey-300), var(--grey-700));
    border-radius: 4px;
    outline: none;
}

.slider-container input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--accent-gold);
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
}

.slider-container input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
}

.slider-container input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--accent-gold);
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    border: none;
}

.slider-container input[type="range"]::-moz-range-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
}

.size-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: var(--grey-700);
    width: 100%; /* Ensure labels span full width */
    min-width: 0; /* Allows labels to shrink if text content would overflow */
}

/* Radio Group and Options (The "Cards") */
.radio-group {
    display: flex;
    flex-direction: column; /* FORCED COLUMN for small screens by default */
    flex-wrap: nowrap; /* Prevent wrapping initially, as we want a single column */
    gap: var(--space-sm); /* Space between stacked radio options */
    width: 100%; /* Ensure radio group takes full width */
    min-width: 0; /* Allows it to shrink */
}

.radio-option {
    display: flex;
    align-items: center;
    width: 100%; /* Ensure each option takes full width of its parent */
    min-width: 0; /* Allows it to shrink */
}

.radio-option input[type="radio"] {
    margin-right: var(--space-xs);
    accent-color: var(--accent-gold);
    width: 18px; /* Fixed size, generally good for radio buttons */
    height: 18px; /* Fixed size */
    flex-shrink: 0; /* Prevents radio button from shrinking */
}
.radio-option label {
    flex-grow: 1; /* Allows label to take remaining space */
    font-size: 1rem;
    margin-bottom: 0; /* Reset margin from calc-group label */
    word-wrap: break-word; /* Important for long text to wrap */
    min-width: 0; /* Allow label text to shrink */
}

.calc-group select {
    width: 100%; /* Ensure select takes full width */
    padding: var(--space-sm);
    border: 1px solid var(--grey-300);
    border-radius: var(--border-radius-sm);
    background-color: white;
    font-size: 1rem;
    color: var(--grey-900);
    /* box-sizing is handled by the global * selector */
}

/* Submit Button for the main form */
.calc-submit {
    margin-top: var(--space-md);
    width: 100%; /* Ensure submit container takes full width */
}

.calc-submit button {
    width: 100%; /* Takes full width of its parent */
    padding: var(--space-md);
    font-weight: 600;
    letter-spacing: 1px;
    background-color: var(--accent-gold);
    color: var(--primary-dark);
    border: 1px solid var(--accent-gold);
    border-radius: var(--border-radius-sm);
    transition: all 0.3s ease;
    /* box-sizing is handled by the global * selector */
}

.calc-submit button:hover {
    background-color: transparent;
    color: var(--accent-gold);
    transform: translateY(-3px);
    box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);
}

/* --- Calculator Result Display --- */
.calculator-result {
    background: linear-gradient(135deg, var(--primary-dark) 0%, #000 100%);
    color: white;
    /* Adjusted padding for better fit on small screens by default */
    padding: var(--space-md) var(--space-sm); /* Default padding for result section */
    border-radius: var(--border-radius-md);
    text-align: center;
    display: none; /* Hidden by default, activated by JS */
    transition: all 0.3s ease;
    transform: translateY(20px);
    opacity: 0;
    width: 100%; /* Explicitly set width to 100% of its grid area */
    min-width: 0; /* Allows result section to shrink if necessary in flex/grid context */
    /* box-sizing is handled by the global * selector */
}

.calculator-result.active {
    display: block;
    animation: fadeInUp 0.5s forwards;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.calculator-result h3 {
    color: white;
    margin-bottom: var(--space-md);
    font-size: 1.5rem;
    font-weight: 600;
    word-wrap: break-word; /* Ensure long titles wrap */
    min-width: 0; /* Allows text to shrink */
}

.price-display {
    font-size: 3rem;
    font-weight: 700;
    color: var(--accent-gold);
    margin-bottom: var(--space-md);
    text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
    word-wrap: break-word; /* Important for price to wrap if it's super long */
    min-width: 0; /* Allows text to shrink */
}

.price-range-text {
    font-size: 1.1rem;
    margin-bottom: var(--space-sm);
    color: var(--grey-300);
    word-wrap: break-word;
    min-width: 0; /* Allows text to shrink */
}

.price-disclaimer {
    color: var(--grey-500);
    font-size: 0.9rem;
    margin-bottom: var(--space-lg);
    font-style: italic;
    word-wrap: break-word;
    min-width: 0; /* Allows text to shrink */
}

/* The parent of the "BOOK A CONSULTATION" button */
.calculator-result .calc-submit {
    margin-top: var(--space-lg); /* Increased margin above button for better spacing */
    width: 100%; /* Crucial: ensure this container uses 100% of available space */
    min-width: 0; /* Allow it to shrink if necessary */
    display: flex; /* Use flex to help center the button horizontally */
    justify-content: center; /* Center the button if it doesn't take 100% */
}

/* The "BOOK A CONSULTATION" button itself */
.calculator-result .calc-submit button {
    width: 100%; /* The button itself takes full width of its parent */
    padding: var(--space-md); /* Base padding for button */
    font-weight: 600;
    letter-spacing: 1px;
    background-color: var(--accent-gold);
    color: var(--primary-dark);
    border: 1px solid var(--accent-gold);
    border-radius: var(--border-radius-sm);
    transition: all 0.3s ease;
    word-wrap: break-word; /* Ensure text breaks if needed */
    white-space: normal; /* Allow button text to wrap naturally */
    min-width: 0; /* Allow button to shrink */
}

.calculator-result .calc-submit button:hover {
    background-color: transparent;
    color: var(--accent-gold);
    transform: translateY(-3px);
    box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);
}

/* Calculator Error styles */
.calculator-error {
    background-color: rgba(213, 0, 50, 0.1);
    color: var(--accent-red);
    padding: var(--space-sm);
    border-radius: var(--border-radius-sm);
    margin-top: var(--space-sm);
    display: none;
    font-weight: 500;
    text-align: center;
    border-left: 4px solid var(--accent-red);
    word-wrap: break-word;
    min-width: 0;
    /* box-sizing is handled by the global * selector */
}

/* --- Responsive styles for calculator --- */

/* Mobile devices (e.g., 320px to 575px) */
@media (max-width: 575px) {
    .calculator {
        padding: var(--space-xl) var(--space-xs); /* Even tighter horizontal padding for very small screens */
    }

    .calculator-container {
        padding: var(--space-md); /* Still keep some inner padding */
    }

    /* Force radio options to stack vertically on small screens */
    .radio-group {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-xs); /* Reduced gap between stacked options */
    }

    .radio-option label {
        font-size: 0.9rem; /* Slightly smaller font size for radio labels */
    }

    /* Adjust padding for the main "CALCULATE PRICE" button */
    .calc-submit button {
        padding: var(--space-sm); /* Slightly less padding on the main button */
    }

    /* Further refine padding on the result section and its elements for smallest screens */
    .calculator-result {
        padding: var(--space-sm) var(--space-xs); /* Very tight padding for result section on small screens */
    }

    .calculator-result h3 {
        font-size: 1.3rem; /* Slightly smaller heading */
    }

    .price-display {
        font-size: 1.8rem; /* Make price display significantly smaller on tiny screens */
    }

    .price-range-text {
        font-size: 0.8rem; /* Smaller text for range */
    }

    .price-disclaimer {
        font-size: 0.65rem; /* Smallest disclaimer text */
    }

    /* CRUCIAL: Adjust "BOOK A CONSULTATION" button for the smallest screens */
    .calculator-result .calc-submit button {
        padding: var(--space-xs); /* Very tight padding for this specific button */
        font-size: 0.8rem; /* Reduce font size on the button text */
        letter-spacing: 0; /* Remove letter spacing to save horizontal space */
    }
}

/* Small devices (tablets and larger phones, 576px and up) */
@media (min-width: 576px) {
    .size-input-container {
        flex-direction: row; /* Layout number input and slider side-by-side */
        align-items: center;
    }

    .calculator-container {
        padding: var(--space-lg); /* Restore larger padding for tablets */
    }

    /* Allow radio options to flow horizontally again */
    .radio-group {
        flex-direction: row; /* Allow horizontal flow */
        flex-wrap: wrap; /* Allow wrapping onto multiple rows if needed */
        gap: var(--space-sm); /* Restore default gap */
        justify-content: flex-start; /* Align to start */
    }

    .radio-option label {
        font-size: 1rem; /* Restore original font size */
    }

    /* Restore main "CALCULATE PRICE" button padding */
    .calc-submit button {
        padding: var(--space-md);
    }

    /* Restore "BOOK A CONSULTATION" button styles for larger screens */
    .calculator-result {
        padding: var(--space-lg); /* Restore larger padding for result section */
    }
    .calculator-result h3 {
        font-size: 1.5rem; /* Restore heading size */
    }
    .price-display {
        font-size: 3rem; /* Restore price display size */
    }
    .price-range-text {
        font-size: 1.1rem; /* Restore text size */
    }
    .price-disclaimer {
        font-size: 0.9rem; /* Restore text size */
    }
    .calculator-result .calc-submit button {
        padding: var(--space-md); /* Restore full padding for the button */
        font-size: 1rem; /* Restore font size */
        letter-spacing: 1px; /* Restore letter spacing */
    }
}

/* Medium devices (desktops and large tablets, 768px and up) */
@media (min-width: 768px) {
    .calculator-container {
        grid-template-columns: 1fr 1fr; /* Two columns for larger screens */;
    }

    .calculator-result {
        display: flex; /* Change to flex for vertical centering of content */
        flex-direction: column;
        justify-content: center; /* Center content vertically */
        opacity: 0.7; /* Apply initial opacity here */
        transform: none; /* Remove transform */
        height: 100%;
        padding: var(--space-md); /* Adjust padding for result column in multi-column layout */
    }

    .calculator-result.active {
        opacity: 1; /* Fade in to full opacity */
        animation: none; /* No animation for desktop active state */
    }
}

@media (max-width: 767px) {
    .calculator-container {
        grid-template-columns: none;
    }
}